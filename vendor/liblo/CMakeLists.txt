cmake_minimum_required (VERSION 2.8)
project (liblo)

set (CMAKE_C_FLAGS_DEBUG " ${CMAKE_C_FLAGS_DEBUG} -DHAVE_POLL=1 -DDEBUG=1 -D_DEBUG=1")
set (CMAKE_CXX_FLAGS_DEBUG "${CMAKE_CXX_FLAGS_DEBUG} -DHAVE_POLL=1 -DDEBUG=1 -D_DEBUG=1")

include_directories(${CMAKE_CURRENT_LIST_DIR})

file (GLOB LIBLO_SRCS src/*.c)
file (GLOB LIBLO_PRIVATE_HEADERS src/*.h)
file (GLOB LIBLO_PUBLIC_HEADERS lo/*.h)

add_library (libloStatic
  STATIC
  ${LIBLO_SRCS}
  ${LIBLO_PRIVATE_HEADERS}
  ${LIBLO_PUBLIC_HEADERS}
)

set_target_properties (libloStatic
  PROPERTIES
  OUTPUT_NAME liblo
  XCODE_ATTRIBUTE_GCC_SYMBOLS_PRIVATE_EXTERN "NO"
  XCODE_ATTRIBUTE_GCC_INLINES_ARE_PRIVATE_EXTERN "YES"
)
